#include <iostream>
#include "ReadWriter.h"

int lastHeapIndex(const int *numbers, int array_size) {
    int res = 0;
    for (int i = 0; i < array_size; i++) {
        if (2 * i + 1 < array_size && numbers[i] >= numbers[2 * i + 1]) {
            res = 2 * i + 1;
        } else {
            return res;
        }
        if (2 * i + 2 < array_size && numbers[i] >= numbers[2 * i + 2]) {
            res = 2 * i + 2;
        } else {
            return res;
        }
    }
    return res;
}

int main() {
//Объект для работы с файлами
    ReadWriter rw;

    int *brr = nullptr;
    int n;

    //Ввод из файла
    n = rw.readInt();

    brr = new int[n];
    rw.readArray(brr, n);

    //Запись в файл
    rw.writeInt(lastHeapIndex(brr, n));

    //освобождаем память
    delete[] brr;

    return 0;
}


